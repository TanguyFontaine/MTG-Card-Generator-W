{"ast":null,"code":"var _jsxFileName = \"C:\\\\Visual Studio Projects\\\\card-generator-tanguy\\\\src\\\\components\\\\card_image_panel.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Image, Box, HStack, useStyleConfig, Center } from \"@chakra-ui/react\";\nimport { isDefined } from '@chakra-ui/utils';\n/***************************************************************/\n\nimport { Text } from \"../style_components/text\";\nimport { frames } from \"../ressources/frames\";\nimport { Symbol } from \"./symbol\";\nimport logo from \"../ressources/logo_mini.png\";\n/***************************************************************/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction fileExtensionIsValid(imageFileName) {\n  const athorizedFileExtensions = [\"png\", \"jpeg\", \"jpg\", \"gif\", \"webp\"];\n  const splitFileName = imageFileName.split('.');\n  return athorizedFileExtensions.some(ext => ext === splitFileName[splitFileName.length - 1].toLowerCase());\n}\n\nfunction DisplayImage(props) {\n  const imageFileName = props.imageFileName;\n  const imageFileContent = props.imageFileContent;\n  const imageCentering = props.imageCentering; // Do not display the error panel while an image has not been selected\n\n  if (imageFileName === \"\" || fileExtensionIsValid(imageFileName)) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      height: \"416px\",\n      width: \"566px\",\n      position: \"relative\",\n      top: \"-89.18%\",\n      left: \"7%\"\n      /*top=\"10.82%\" left=\"62.38%\"*/\n      ,\n      children: /*#__PURE__*/_jsxDEV(Image, {\n        boxSize: \"inherit\",\n        objectPosition: imageCentering,\n        objectFit: \"cover\",\n        alt: imageFileName,\n        src: imageFileContent\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Text, {\n    position: \"absolute\",\n    top: \"40%\",\n    left: \"63%\",\n    fontSize: 24,\n    width: \"28%\",\n    color: \"white\",\n    noOfLines: 2,\n    children: [\"Invalid image file, supported extensions are :\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), \"png, jpg, jpeg, gif, webp\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n\n_c = DisplayImage;\n\nfunction retrieveCorrespondingFrameImage(frameColor, cardPower, cardToughness) {\n  // to retieve the frame with the power/toughness box or the frame without\n  let frameIndex = 0;\n\n  if (cardPower !== \"\" || cardToughness !== \"\") {\n    frameIndex = 1;\n  } // By default take the colorless frame\n\n\n  let frameImage = frames[\"Colorless\"][frameIndex];\n\n  if (isDefined(frameColor) && frameColor !== \"\") {\n    frameImage = frames[frameColor][frameIndex];\n  }\n\n  return frameImage;\n} // Take the spell descrition in param. It is a string whith the descritpion and encoded symbols\n// example : [Tap] : add [g]\n// returns a list of SymbolEments and Strings to be displayed\n\n\nfunction transformIntoElements(spellDescription) {\n  const leftBraceSplit = spellDescription.split('[');\n  let displayableElements = [];\n\n  for (let i = 0; i < leftBraceSplit.length; i++) {\n    const rightBraceSplit = leftBraceSplit[i].split(']');\n\n    if (rightBraceSplit.length === 2) {\n      // a symbol has been parsed, it is the left side of the ], the right is the rest of the description\n      const symbolCode = rightBraceSplit[0];\n      const displayableSymbol = symbolCode === \"e\" ? /*#__PURE__*/_jsxDEV(Symbol, {\n        symbolOnly: true,\n        symbol: symbolCode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 62\n      }, this) : /*#__PURE__*/_jsxDEV(Symbol, {\n        \"font-s\": true,\n        ize: \"small\",\n        symbol: symbolCode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 112\n      }, this);\n      displayableElements = displayableElements.concat(displayableSymbol);\n      displayableElements = displayableElements.concat(rightBraceSplit[1]);\n    } else {\n      displayableElements = displayableElements.concat(rightBraceSplit);\n    }\n  }\n\n  return displayableElements;\n}\n\nexport function CardImagePanel(props) {\n  _s();\n\n  const name = props.cardName;\n  const nameFontSize = props.nameFontSize;\n  const imageFileContent = props.imageFile.content;\n  const imageFileName = props.imageFile.name;\n  const imageCentering = props.imageCentering;\n  const types = props.types;\n  const superTypes = props.superTypes;\n  const subTypes = props.subTypes;\n  const typesFontSize = props.typesFontSize;\n  const manaCost = props.manaCost;\n  const colorlessManaAmount = props.colorlessManaAmount;\n  const spellDescription = props.spellDescription;\n  const spellFontSize = props.spellFontSize;\n  const flavorText = props.flavorText;\n  const flavorTextFontSize = props.flavorTextFontSize;\n  const power = props.power;\n  const toughness = props.toughness;\n  const ptFontSize = props.ptFontSize;\n  const selectedCardFrame = props.cardFrameColor;\n  const typesItems = types.map(type => /*#__PURE__*/_jsxDEV(Text, {\n    children: type\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 44\n  }, this));\n  const superTypesItems = superTypes.map(superTypes => /*#__PURE__*/_jsxDEV(Text, {\n    children: superTypes\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 60\n  }, this));\n  const displayableManaCost = manaCost.map(symbol => /*#__PURE__*/_jsxDEV(Box, {\n    children: /*#__PURE__*/_jsxDEV(Symbol, {\n      symbol: symbol,\n      shadow: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 63\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 58\n  }, this)); // Formulas to display values at the rigths position \n  //the mana cost at the right place\n  // 96.8 is hard coded pos of the 1st mana symbol, 5.12 is the size of mana symbol with fontSize(24) \n  // we do not forget the colorless mana that is not the mana cost list\n\n  const manaCostLeftPos = 93.5 - (manaCost.length + (colorlessManaAmount > -1 ? 1 : 0)) * 5.12 + \"%\"; // adjust the power toughness position depending on the length of both values and the font size\n\n  const powerLeftPos = 89.2 - (power.length + toughness.length) / (68 / ptFontSize) + \"%\";\n  const powerTopPos = 89 + (3.4 - ptFontSize * 0.1) + \"%\"; // adjust the name height pos depending on the font size \n  // result = baseTopValue + ((defaultFontSize / 10) - (fontSize / 10))\n\n  const nameTopPos = 4.8 + (3.2 - nameFontSize * 0.1) + \"%\";\n  const typesTopPos = 56.85 + (2.8 - typesFontSize * 0.1) + \"%\";\n  const spellDescriptionLineHeight = 1.44 + (spellFontSize * 0.1 - 2.2) + \"em\";\n  const flavorTextLineHeight = 1.34 + (flavorTextFontSize * 0.1 - 2.1) + \"em\";\n  const displayableSpellDescription = transformIntoElements(spellDescription);\n  const style = useStyleConfig(\"CardImagePanel\");\n  return /*#__PURE__*/_jsxDEV(Box, {\n    __css: style,\n    h: \"100vh\",\n    w: \"100%\",\n    sx: {\n      wordSpacing: \"0.2em\"\n    },\n    bg: \"blue.800\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      position: \"relative\",\n      left: \"20%\",\n      height: \"937px\",\n      width: \"656px\",\n      children: [/*#__PURE__*/_jsxDEV(Image, {\n        boxSize: \"inherit\",\n        objectFit: \"fit\",\n        src: retrieveCorrespondingFrameImage(selectedCardFrame, power, toughness)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DisplayImage, {\n        imageFileName: imageFileName,\n        imageFileContent: imageFileContent,\n        imageCentering: imageCentering\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        pos: \"absolute\",\n        top: nameTopPos,\n        left: \"7%\",\n        fontSize: nameFontSize,\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        name: \"manaCost\",\n        pos: \"absolute\",\n        top: \"5.1%\",\n        left: manaCostLeftPos,\n        fontSize: 24,\n        children: /*#__PURE__*/_jsxDEV(HStack, {\n          spacing: 1,\n          children: [colorlessManaAmount > -1 ? /*#__PURE__*/_jsxDEV(Box, {\n            children: /*#__PURE__*/_jsxDEV(Symbol, {\n              symbol: colorlessManaAmount,\n              shadow: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 58\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 53\n          }, this) : /*#__PURE__*/_jsxDEV(Box, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 119\n          }, this), /*#__PURE__*/_jsxDEV(HStack, {\n            spacing: 1,\n            children: displayableManaCost\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(HStack, {\n        fontSize: typesFontSize,\n        pos: \"absolute\",\n        top: typesTopPos,\n        left: \"7%\",\n        spacing: \"0.3em\",\n        children: [superTypesItems, typesItems, /*#__PURE__*/_jsxDEV(Text, {\n          children: subTypes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Image, {\n        boxSize: \"44px\",\n        pos: \"absolute\",\n        top: \"56.2%\",\n        left: \"87%\",\n        src: logo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        lineHeight: spellDescriptionLineHeight,\n        sx: {\n          wordSpacing: \"0.2em\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          fontSize: spellFontSize,\n          whiteSpace: \"pre-line\",\n          fontFamily: \"EB Garamond\",\n          fontWeight: 400,\n          pos: \"absolute\",\n          top: \"63.5%\",\n          left: \"63%\",\n          width: \"28.5%\",\n          children: displayableSpellDescription\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(HStack, {\n        fontSize: ptFontSize,\n        pos: \"absolute\",\n        top: powerTopPos,\n        left: powerLeftPos,\n        spacing: 1,\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          children: [power, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this), power !== \"\" || toughness !== \"\" ? /*#__PURE__*/_jsxDEV(Text, {\n          children: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 57\n        }, this) : /*#__PURE__*/_jsxDEV(Text, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 74\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          children: [toughness, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        lineHeight: flavorTextLineHeight,\n        sx: {\n          wordSpacing: \"0.2em\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          as: \"i\",\n          fontSize: flavorTextFontSize,\n          whiteSpace: \"pre-line\",\n          fontFamily: \"EB Garamond\",\n          fontWeight: 400,\n          pos: \"absolute\",\n          top: \"76%\",\n          left: \"63%\",\n          width: \"28.5%\",\n          children: flavorText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CardImagePanel, \"pl7GAhqelQYC2Y8gxFE2LPD7C/o=\", false, function () {\n  return [useStyleConfig];\n});\n\n_c2 = CardImagePanel;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"DisplayImage\");\n$RefreshReg$(_c2, \"CardImagePanel\");","map":{"version":3,"sources":["C:/Visual Studio Projects/card-generator-tanguy/src/components/card_image_panel.jsx"],"names":["React","Image","Box","HStack","useStyleConfig","Center","isDefined","Text","frames","Symbol","logo","fileExtensionIsValid","imageFileName","athorizedFileExtensions","splitFileName","split","some","ext","length","toLowerCase","DisplayImage","props","imageFileContent","imageCentering","retrieveCorrespondingFrameImage","frameColor","cardPower","cardToughness","frameIndex","frameImage","transformIntoElements","spellDescription","leftBraceSplit","displayableElements","i","rightBraceSplit","symbolCode","displayableSymbol","concat","CardImagePanel","name","cardName","nameFontSize","imageFile","content","types","superTypes","subTypes","typesFontSize","manaCost","colorlessManaAmount","spellFontSize","flavorText","flavorTextFontSize","power","toughness","ptFontSize","selectedCardFrame","cardFrameColor","typesItems","map","type","superTypesItems","displayableManaCost","symbol","manaCostLeftPos","powerLeftPos","powerTopPos","nameTopPos","typesTopPos","spellDescriptionLineHeight","flavorTextLineHeight","displayableSpellDescription","style","wordSpacing"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,GAAhB,EAAqBC,MAArB,EAA6BC,cAA7B,EAA6CC,MAA7C,QAA2D,kBAA3D;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA;;AAEA,SAASC,IAAT,QAAqB,0BAArB;AACA,SAASC,MAAT,QAAuB,sBAAvB;AACA,SAASC,MAAT,QAAuB,UAAvB;AAEA,OAAOC,IAAP,MAAiB,6BAAjB;AACA;;;;AAEA,SAASC,oBAAT,CAA8BC,aAA9B,EAA6C;AAEzC,QAAMC,uBAAuB,GAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB,KAAhB,EAAuB,KAAvB,EAA8B,MAA9B,CAAhC;AAEA,QAAMC,aAAa,GAAGF,aAAa,CAACG,KAAd,CAAoB,GAApB,CAAtB;AACA,SAAQF,uBAAuB,CAACG,IAAxB,CAA6BC,GAAG,IAAIA,GAAG,KAAKH,aAAa,CAACA,aAAa,CAACI,MAAd,GAAuB,CAAxB,CAAb,CAAwCC,WAAxC,EAA5C,CAAR;AACH;;AAED,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AACzB,QAAMT,aAAa,GAAGS,KAAK,CAACT,aAA5B;AACA,QAAMU,gBAAgB,GAAGD,KAAK,CAACC,gBAA/B;AACA,QAAMC,cAAc,GAAGF,KAAK,CAACE,cAA7B,CAHyB,CAKzB;;AACA,MAAIX,aAAa,KAAK,EAAlB,IAAwBD,oBAAoB,CAACC,aAAD,CAAhD,EAAiE;AAC7D,wBACI,QAAC,GAAD;AAAK,MAAA,MAAM,EAAC,OAAZ;AAAoB,MAAA,KAAK,EAAC,OAA1B;AAAkC,MAAA,QAAQ,EAAC,UAA3C;AAAsD,MAAA,GAAG,EAAC,SAA1D;AAAoE,MAAA,IAAI,EAAC;AAAK;AAA9E;AAAA,6BACI,QAAC,KAAD;AAAO,QAAA,OAAO,EAAC,SAAf;AAAyB,QAAA,cAAc,EAAEW,cAAzC;AAAyD,QAAA,SAAS,EAAC,OAAnE;AAA2E,QAAA,GAAG,EAAEX,aAAhF;AAA+F,QAAA,GAAG,EAAEU;AAApG;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAKH;;AACD,sBACI,QAAC,IAAD;AAAM,IAAA,QAAQ,EAAC,UAAf;AAA0B,IAAA,GAAG,EAAC,KAA9B;AAAoC,IAAA,IAAI,EAAC,KAAzC;AAA+C,IAAA,QAAQ,EAAE,EAAzD;AAA6D,IAAA,KAAK,EAAC,KAAnE;AAAyE,IAAA,KAAK,EAAC,OAA/E;AAAuF,IAAA,SAAS,EAAE,CAAlG;AAAA,8EAEI;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAOH;;KApBQF,Y;;AAsBT,SAASI,+BAAT,CAAyCC,UAAzC,EAAqDC,SAArD,EAAgEC,aAAhE,EAA+E;AAC3E;AACA,MAAIC,UAAU,GAAG,CAAjB;;AACA,MAAIF,SAAS,KAAK,EAAd,IAAoBC,aAAa,KAAK,EAA1C,EAA8C;AAC1CC,IAAAA,UAAU,GAAG,CAAb;AACH,GAL0E,CAO3E;;;AACA,MAAIC,UAAU,GAAGrB,MAAM,CAAC,WAAD,CAAN,CAAoBoB,UAApB,CAAjB;;AAEA,MAAItB,SAAS,CAACmB,UAAD,CAAT,IAAyBA,UAAU,KAAK,EAA5C,EAAgD;AAC5CI,IAAAA,UAAU,GAAGrB,MAAM,CAACiB,UAAD,CAAN,CAAmBG,UAAnB,CAAb;AACH;;AAED,SAAOC,UAAP;AACH,C,CAED;AACA;AACA;;;AACA,SAASC,qBAAT,CAA+BC,gBAA/B,EAAiD;AAC7C,QAAMC,cAAc,GAAGD,gBAAgB,CAAChB,KAAjB,CAAuB,GAAvB,CAAvB;AAEA,MAAIkB,mBAAmB,GAAG,EAA1B;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,cAAc,CAACd,MAAnC,EAA2CgB,CAAC,EAA5C,EACA;AACI,UAAMC,eAAe,GAAGH,cAAc,CAACE,CAAD,CAAd,CAAkBnB,KAAlB,CAAwB,GAAxB,CAAxB;;AAEA,QAAIoB,eAAe,CAACjB,MAAhB,KAA2B,CAA/B,EAAkC;AAC9B;AACA,YAAMkB,UAAU,GAAGD,eAAe,CAAC,CAAD,CAAlC;AACA,YAAME,iBAAiB,GAAID,UAAU,KAAK,GAAhB,gBAAuB,QAAC,MAAD;AAAQ,QAAA,UAAU,EAAE,IAApB;AAA0B,QAAA,MAAM,EAAEA;AAAlC;AAAA;AAAA;AAAA;AAAA,cAAvB,gBAAyE,QAAC,MAAD;AAAQ,sBAAR;AAAiB,QAAA,GAAG,EAAC,OAArB;AAA6B,QAAA,MAAM,EAAEA;AAArC;AAAA;AAAA;AAAA;AAAA,cAAnG;AACAH,MAAAA,mBAAmB,GAAGA,mBAAmB,CAACK,MAApB,CAA2BD,iBAA3B,CAAtB;AACAJ,MAAAA,mBAAmB,GAAGA,mBAAmB,CAACK,MAApB,CAA2BH,eAAe,CAAC,CAAD,CAA1C,CAAtB;AACH,KAND,MAOK;AACDF,MAAAA,mBAAmB,GAAGA,mBAAmB,CAACK,MAApB,CAA2BH,eAA3B,CAAtB;AACH;AACJ;;AAED,SAAQF,mBAAR;AACH;;AAGD,OAAO,SAASM,cAAT,CAAwBlB,KAAxB,EAA+B;AAAA;;AAElC,QAAMmB,IAAI,GAAGnB,KAAK,CAACoB,QAAnB;AACA,QAAMC,YAAY,GAAGrB,KAAK,CAACqB,YAA3B;AACA,QAAMpB,gBAAgB,GAAGD,KAAK,CAACsB,SAAN,CAAgBC,OAAzC;AACA,QAAMhC,aAAa,GAAGS,KAAK,CAACsB,SAAN,CAAgBH,IAAtC;AACA,QAAMjB,cAAc,GAAGF,KAAK,CAACE,cAA7B;AACA,QAAMsB,KAAK,GAAGxB,KAAK,CAACwB,KAApB;AACA,QAAMC,UAAU,GAAGzB,KAAK,CAACyB,UAAzB;AACA,QAAMC,QAAQ,GAAG1B,KAAK,CAAC0B,QAAvB;AACA,QAAMC,aAAa,GAAG3B,KAAK,CAAC2B,aAA5B;AACA,QAAMC,QAAQ,GAAG5B,KAAK,CAAC4B,QAAvB;AACA,QAAMC,mBAAmB,GAAG7B,KAAK,CAAC6B,mBAAlC;AACA,QAAMnB,gBAAgB,GAAGV,KAAK,CAACU,gBAA/B;AACA,QAAMoB,aAAa,GAAG9B,KAAK,CAAC8B,aAA5B;AACA,QAAMC,UAAU,GAAG/B,KAAK,CAAC+B,UAAzB;AACA,QAAMC,kBAAkB,GAAGhC,KAAK,CAACgC,kBAAjC;AACA,QAAMC,KAAK,GAAGjC,KAAK,CAACiC,KAApB;AACA,QAAMC,SAAS,GAAGlC,KAAK,CAACkC,SAAxB;AACA,QAAMC,UAAU,GAAInC,KAAK,CAACmC,UAA1B;AACA,QAAMC,iBAAiB,GAAGpC,KAAK,CAACqC,cAAhC;AAEA,QAAMC,UAAU,GAAGd,KAAK,CAACe,GAAN,CAAWC,IAAD,iBAAU,QAAC,IAAD;AAAA,cAAOA;AAAP;AAAA;AAAA;AAAA;AAAA,UAApB,CAAnB;AACA,QAAMC,eAAe,GAAGhB,UAAU,CAACc,GAAX,CAAgBd,UAAD,iBAAgB,QAAC,IAAD;AAAA,cAAOA;AAAP;AAAA;AAAA;AAAA;AAAA,UAA/B,CAAxB;AAEA,QAAMiB,mBAAmB,GAAGd,QAAQ,CAACW,GAAT,CAAcI,MAAD,iBAAY,QAAC,GAAD;AAAA,2BAAK,QAAC,MAAD;AAAQ,MAAA,MAAM,EAAEA,MAAhB;AAAwB,MAAA,MAAM,EAAE;AAAhC;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,UAAzB,CAA5B,CAzBkC,CA4BlC;AAEA;AACA;AACA;;AACA,QAAMC,eAAe,GAAG,OAAO,CAAChB,QAAQ,CAAC/B,MAAT,IAAmBgC,mBAAmB,GAAG,CAAC,CAAvB,GAA2B,CAA3B,GAA+B,CAAlD,CAAD,IAAyD,IAAhE,GAAuE,GAA/F,CAjCkC,CAmClC;;AACA,QAAMgB,YAAY,GAAG,OAAQ,CAACZ,KAAK,CAACpC,MAAN,GAAeqC,SAAS,CAACrC,MAA1B,KAAqC,KAAKsC,UAA1C,CAAR,GAAiE,GAAtF;AACA,QAAMW,WAAW,GAAG,MAAM,MAAMX,UAAU,GAAG,GAAzB,IAAgC,GAApD,CArCkC,CAuClC;AACA;;AACA,QAAMY,UAAU,GAAG,OAAO,MAAM1B,YAAY,GAAG,GAA5B,IAAmC,GAAtD;AACA,QAAM2B,WAAW,GAAG,SAAS,MAAMrB,aAAa,GAAG,GAA/B,IAAsC,GAA1D;AACA,QAAMsB,0BAA0B,GAAG,QAAQnB,aAAa,GAAG,GAAhB,GAAsB,GAA9B,IAAqC,IAAxE;AACA,QAAMoB,oBAAoB,GAAG,QAAQlB,kBAAkB,GAAG,GAArB,GAA2B,GAAnC,IAA0C,IAAvE;AAEA,QAAMmB,2BAA2B,GAAG1C,qBAAqB,CAACC,gBAAD,CAAzD;AAEA,QAAM0C,KAAK,GAAGrE,cAAc,CAAC,gBAAD,CAA5B;AAEA,sBACI,QAAC,GAAD;AAAK,IAAA,KAAK,EAAEqE,KAAZ;AAAmB,IAAA,CAAC,EAAC,OAArB;AAA6B,IAAA,CAAC,EAAC,MAA/B;AAAsC,IAAA,EAAE,EAAE;AAACC,MAAAA,WAAW,EAAE;AAAd,KAA1C;AAAkE,IAAA,EAAE,EAAC,UAArE;AAAA,2BACI,QAAC,GAAD;AAAK,MAAA,QAAQ,EAAC,UAAd;AAAyB,MAAA,IAAI,EAAC,KAA9B;AAAoC,MAAA,MAAM,EAAC,OAA3C;AAAmD,MAAA,KAAK,EAAC,OAAzD;AAAA,8BACI,QAAC,KAAD;AAAO,QAAA,OAAO,EAAC,SAAf;AAAyB,QAAA,SAAS,EAAC,KAAnC;AAAyC,QAAA,GAAG,EAAElD,+BAA+B,CAACiC,iBAAD,EAAoBH,KAApB,EAA2BC,SAA3B;AAA7E;AAAA;AAAA;AAAA;AAAA,cADJ,eAGI,QAAC,YAAD;AAAc,QAAA,aAAa,EAAE3C,aAA7B;AAA4C,QAAA,gBAAgB,EAAEU,gBAA9D;AAAgF,QAAA,cAAc,EAAEC;AAAhG;AAAA;AAAA;AAAA;AAAA,cAHJ,eAKI,QAAC,IAAD;AAAM,QAAA,GAAG,EAAC,UAAV;AAAqB,QAAA,GAAG,EAAE6C,UAA1B;AAAsC,QAAA,IAAI,EAAC,IAA3C;AAAgD,QAAA,QAAQ,EAAE1B,YAA1D;AAAA,kBAAyEF;AAAzE;AAAA;AAAA;AAAA;AAAA,cALJ,eAOI,QAAC,GAAD;AAAK,QAAA,IAAI,EAAC,UAAV;AAAqB,QAAA,GAAG,EAAC,UAAzB;AAAoC,QAAA,GAAG,EAAC,MAAxC;AAA+C,QAAA,IAAI,EAAEyB,eAArD;AAAsE,QAAA,QAAQ,EAAE,EAAhF;AAAA,+BACI,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAE,CAAjB;AAAA,qBACKf,mBAAmB,GAAG,CAAC,CAAvB,gBAA2B,QAAC,GAAD;AAAA,mCAAK,QAAC,MAAD;AAAQ,cAAA,MAAM,EAAEA,mBAAhB;AAAqC,cAAA,MAAM,EAAE;AAA7C;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,kBAA3B,gBAA6F,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,kBADlG,eAEI,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAE,CAAjB;AAAA,sBACKa;AADL;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAPJ,eAgBI,QAAC,MAAD;AAAQ,QAAA,QAAQ,EAAEf,aAAlB;AAAiC,QAAA,GAAG,EAAC,UAArC;AAAgD,QAAA,GAAG,EAAEqB,WAArD;AAAkE,QAAA,IAAI,EAAC,IAAvE;AAA4E,QAAA,OAAO,EAAC,OAApF;AAAA,mBACKP,eADL,EAEKH,UAFL,eAGI,QAAC,IAAD;AAAA,oBAAOZ;AAAP;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBJ,eAqBI,QAAC,KAAD;AAAO,QAAA,OAAO,EAAC,MAAf;AAAsB,QAAA,GAAG,EAAC,UAA1B;AAAqC,QAAA,GAAG,EAAC,OAAzC;AAAiD,QAAA,IAAI,EAAC,KAAtD;AAA4D,QAAA,GAAG,EAAErC;AAAjE;AAAA;AAAA;AAAA;AAAA,cArBJ,eAuBI,QAAC,GAAD;AAAK,QAAA,UAAU,EAAE4D,0BAAjB;AAA6C,QAAA,EAAE,EAAE;AAACI,UAAAA,WAAW,EAAE;AAAd,SAAjD;AAAA,+BACI,QAAC,IAAD;AAAM,UAAA,QAAQ,EAAEvB,aAAhB;AAA+B,UAAA,UAAU,EAAC,UAA1C;AAAqD,UAAA,UAAU,EAAC,aAAhE;AAA8E,UAAA,UAAU,EAAE,GAA1F;AAA+F,UAAA,GAAG,EAAC,UAAnG;AAA8G,UAAA,GAAG,EAAC,OAAlH;AAA0H,UAAA,IAAI,EAAC,KAA/H;AAAqI,UAAA,KAAK,EAAC,OAA3I;AAAA,oBAAqJqB;AAArJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAvBJ,eA2BI,QAAC,MAAD;AAAQ,QAAA,QAAQ,EAAEhB,UAAlB;AAA8B,QAAA,GAAG,EAAC,UAAlC;AAA6C,QAAA,GAAG,EAAEW,WAAlD;AAA+D,QAAA,IAAI,EAAED,YAArE;AAAmF,QAAA,OAAO,EAAE,CAA5F;AAAA,gCACI,QAAC,IAAD;AAAA,qBAAOZ,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEKA,KAAK,KAAK,EAAV,IAAgBC,SAAS,KAAK,EAA9B,gBAAmC,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAnC,gBAAoD,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA,gBAFzD,eAGI,QAAC,IAAD;AAAA,qBAAOA,SAAP;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,cA3BJ,eAiCI,QAAC,GAAD;AAAK,QAAA,UAAU,EAAEgB,oBAAjB;AAAuC,QAAA,EAAE,EAAE;AAACG,UAAAA,WAAW,EAAE;AAAd,SAA3C;AAAA,+BACI,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,GAAT;AAAa,UAAA,QAAQ,EAAErB,kBAAvB;AAA2C,UAAA,UAAU,EAAC,UAAtD;AAAiE,UAAA,UAAU,EAAC,aAA5E;AAA0F,UAAA,UAAU,EAAE,GAAtG;AAA2G,UAAA,GAAG,EAAC,UAA/G;AAA0H,UAAA,GAAG,EAAC,KAA9H;AAAoI,UAAA,IAAI,EAAC,KAAzI;AAA+I,UAAA,KAAK,EAAC,OAArJ;AAAA,oBAA+JD;AAA/J;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAjCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAyCH;;GA3Feb,c;UAgDEnC,c;;;MAhDFmC,c","sourcesContent":["import React from 'react';\r\nimport { Image, Box, HStack, useStyleConfig, Center } from \"@chakra-ui/react\"\r\nimport { isDefined } from '@chakra-ui/utils';\r\n/***************************************************************/\r\n\r\nimport { Text } from \"../style_components/text\"\r\nimport { frames } from \"../ressources/frames\"\r\nimport { Symbol } from \"./symbol\"\r\n\r\nimport logo from \"../ressources/logo_mini.png\" \r\n/***************************************************************/\r\n\r\nfunction fileExtensionIsValid(imageFileName) {\r\n\r\n    const athorizedFileExtensions = [\"png\", \"jpeg\", \"jpg\", \"gif\", \"webp\"]\r\n\r\n    const splitFileName = imageFileName.split('.')\r\n    return (athorizedFileExtensions.some(ext =>(ext === splitFileName[splitFileName.length - 1].toLowerCase())));\r\n}\r\n\r\nfunction DisplayImage(props) {\r\n    const imageFileName = props.imageFileName\r\n    const imageFileContent = props.imageFileContent\r\n    const imageCentering = props.imageCentering\r\n    \r\n    // Do not display the error panel while an image has not been selected\r\n    if (imageFileName === \"\" || fileExtensionIsValid(imageFileName)) {\r\n        return (\r\n            <Box height=\"416px\" width=\"566px\" position=\"relative\" top=\"-89.18%\" left=\"7%\" /*top=\"10.82%\" left=\"62.38%\"*/>\r\n                <Image boxSize=\"inherit\" objectPosition={imageCentering} objectFit=\"cover\" alt={imageFileName} src={imageFileContent}></Image>\r\n            </Box>\r\n        );\r\n    }\r\n    return (\r\n        <Text position=\"absolute\" top=\"40%\" left=\"63%\" fontSize={24} width=\"28%\" color=\"white\" noOfLines={2}>\r\n            Invalid image file, supported extensions are : \r\n            <br />\r\n            png, jpg, jpeg, gif, webp\r\n        </Text>\r\n    );\r\n}\r\n\r\nfunction retrieveCorrespondingFrameImage(frameColor, cardPower, cardToughness) {\r\n    // to retieve the frame with the power/toughness box or the frame without\r\n    let frameIndex = 0\r\n    if (cardPower !== \"\" || cardToughness !== \"\") {\r\n        frameIndex = 1\r\n    }\r\n    \r\n    // By default take the colorless frame\r\n    let frameImage = frames[\"Colorless\"][frameIndex]\r\n\r\n    if (isDefined(frameColor) && frameColor !== \"\") {\r\n        frameImage = frames[frameColor][frameIndex]\r\n    }\r\n\r\n    return frameImage\r\n}\r\n\r\n// Take the spell descrition in param. It is a string whith the descritpion and encoded symbols\r\n// example : [Tap] : add [g]\r\n// returns a list of SymbolEments and Strings to be displayed\r\nfunction transformIntoElements(spellDescription) {\r\n    const leftBraceSplit = spellDescription.split('[');\r\n\r\n    let displayableElements = []\r\n    for\t(let i = 0; i < leftBraceSplit.length; i++)\r\n    {\r\n        const rightBraceSplit = leftBraceSplit[i].split(']')\r\n        \r\n        if (rightBraceSplit.length === 2) {\r\n            // a symbol has been parsed, it is the left side of the ], the right is the rest of the description\r\n            const symbolCode = rightBraceSplit[0]\r\n            const displayableSymbol = (symbolCode === \"e\") ? <Symbol symbolOnly={true} symbol={symbolCode}/> : <Symbol font-s   ize=\"small\" symbol={symbolCode}/>\r\n            displayableElements = displayableElements.concat(displayableSymbol)\r\n            displayableElements = displayableElements.concat(rightBraceSplit[1])\r\n        }\r\n        else {\r\n            displayableElements = displayableElements.concat(rightBraceSplit)\r\n        }\r\n    }\r\n\r\n    return (displayableElements);\r\n}\r\n\r\n\r\nexport function CardImagePanel(props) {\r\n\r\n    const name = props.cardName\r\n    const nameFontSize = props.nameFontSize\r\n    const imageFileContent = props.imageFile.content\r\n    const imageFileName = props.imageFile.name\r\n    const imageCentering = props.imageCentering\r\n    const types = props.types\r\n    const superTypes = props.superTypes\r\n    const subTypes = props.subTypes\r\n    const typesFontSize = props.typesFontSize\r\n    const manaCost = props.manaCost\r\n    const colorlessManaAmount = props.colorlessManaAmount\r\n    const spellDescription = props.spellDescription\r\n    const spellFontSize = props.spellFontSize\r\n    const flavorText = props.flavorText\r\n    const flavorTextFontSize = props.flavorTextFontSize\r\n    const power = props.power\r\n    const toughness = props.toughness\r\n    const ptFontSize  = props.ptFontSize\r\n    const selectedCardFrame = props.cardFrameColor\r\n\r\n    const typesItems = types.map((type) => <Text>{type}</Text>);\r\n    const superTypesItems = superTypes.map((superTypes) => <Text>{superTypes}</Text>);\r\n\r\n    const displayableManaCost = manaCost.map((symbol) => <Box><Symbol symbol={symbol} shadow={true}/></Box>);\r\n\r\n\r\n    // Formulas to display values at the rigths position \r\n    \r\n    //the mana cost at the right place\r\n    // 96.8 is hard coded pos of the 1st mana symbol, 5.12 is the size of mana symbol with fontSize(24) \r\n    // we do not forget the colorless mana that is not the mana cost list\r\n    const manaCostLeftPos = 93.5 - (manaCost.length + (colorlessManaAmount > -1 ? 1 : 0)) * 5.12 + \"%\"\r\n\r\n    // adjust the power toughness position depending on the length of both values and the font size\r\n    const powerLeftPos = 89.2 - ((power.length + toughness.length) / (68 / ptFontSize)) + \"%\"\r\n    const powerTopPos = 89 + (3.4 - ptFontSize * 0.1) + \"%\"\r\n\r\n    // adjust the name height pos depending on the font size \r\n    // result = baseTopValue + ((defaultFontSize / 10) - (fontSize / 10))\r\n    const nameTopPos = 4.8 + (3.2 - nameFontSize * 0.1) + \"%\"\r\n    const typesTopPos = 56.85 + (2.8 - typesFontSize * 0.1) + \"%\"\r\n    const spellDescriptionLineHeight = 1.44 + (spellFontSize * 0.1 - 2.2) + \"em\"\r\n    const flavorTextLineHeight = 1.34 + (flavorTextFontSize * 0.1 - 2.1) + \"em\"\r\n\r\n    const displayableSpellDescription = transformIntoElements(spellDescription)\r\n\r\n    const style = useStyleConfig(\"CardImagePanel\")\r\n\r\n    return (\r\n        <Box __css={style} h=\"100vh\" w=\"100%\" sx={{wordSpacing: \"0.2em\"}} bg=\"blue.800\">\r\n            <Box position=\"relative\" left=\"20%\" height=\"937px\" width=\"656px\">\r\n                <Image boxSize=\"inherit\" objectFit=\"fit\" src={retrieveCorrespondingFrameImage(selectedCardFrame, power, toughness)}/>\r\n\r\n                <DisplayImage imageFileName={imageFileName} imageFileContent={imageFileContent} imageCentering={imageCentering}></DisplayImage>\r\n\r\n                <Text pos=\"absolute\" top={nameTopPos} left=\"7%\" fontSize={nameFontSize}>{name}</Text>\r\n\r\n                <Box name=\"manaCost\" pos=\"absolute\" top=\"5.1%\" left={manaCostLeftPos} fontSize={24}>\r\n                    <HStack spacing={1}>\r\n                        {colorlessManaAmount > -1 ? <Box><Symbol symbol={colorlessManaAmount} shadow={true}/></Box> : <Box />}\r\n                        <HStack spacing={1}> \r\n                            {displayableManaCost}\r\n                        </HStack>\r\n                    </HStack>\r\n                </Box>\r\n\r\n                <HStack fontSize={typesFontSize} pos=\"absolute\" top={typesTopPos} left=\"7%\" spacing=\"0.3em\">\r\n                    {superTypesItems}\r\n                    {typesItems}\r\n                    <Text>{subTypes}</Text> \r\n                </HStack>\r\n                <Image boxSize=\"44px\" pos=\"absolute\" top=\"56.2%\" left=\"87%\" src={logo}/>\r\n                \r\n                <Box lineHeight={spellDescriptionLineHeight} sx={{wordSpacing: \"0.2em\"}}>\r\n                    <Text fontSize={spellFontSize} whiteSpace=\"pre-line\" fontFamily=\"EB Garamond\" fontWeight={400} pos=\"absolute\" top=\"63.5%\" left=\"63%\" width=\"28.5%\" >{displayableSpellDescription}</Text>\r\n                </Box>   \r\n\r\n                <HStack fontSize={ptFontSize} pos=\"absolute\" top={powerTopPos} left={powerLeftPos} spacing={1}>\r\n                    <Text>{power} </Text>\r\n                    {power !== \"\" || toughness !== \"\" ? <Text>/</Text> : <Text/>}\r\n                    <Text>{toughness} </Text>\r\n                </HStack>\r\n\r\n                <Box lineHeight={flavorTextLineHeight} sx={{wordSpacing: \"0.2em\"}}>\r\n                    <Text as=\"i\" fontSize={flavorTextFontSize} whiteSpace=\"pre-line\" fontFamily=\"EB Garamond\" fontWeight={400} pos=\"absolute\" top=\"76%\" left=\"63%\" width=\"28.5%\" >{flavorText}</Text>\r\n                </Box>\r\n            </Box>\r\n        </Box>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}