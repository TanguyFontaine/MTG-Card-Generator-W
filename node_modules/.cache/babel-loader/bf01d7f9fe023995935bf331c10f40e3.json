{"ast":null,"code":"var _jsxFileName = \"C:\\\\Visual Studio Projects\\\\card-generator-tanguy\\\\src\\\\components\\\\image_selector.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useFilePicker } from 'use-file-picker';\nimport { Box, HStack } from \"@chakra-ui/react\";\n/***************************************************************/\n\nimport { Button } from \"../style_components/button\";\n/***************************************************************/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function ImageSelector(props) {\n  _s();\n\n  const setImageFileFunction = props.setImageFileFunction;\n  const selectedImageFileName = props.selectedImageFileName;\n  const athorizedFileExtensions = [\"png\", \"jpeg\", \"jpg\", \"webp\"];\n  const [openFileSelector, {\n    filesContent,\n    loading,\n    errors\n  }] = useFilePicker({\n    readAs: 'DataURL',\n    // multiple: true,\n    limitFilesConfig: {\n      max: 1\n    } // minFileSize: 0.1, // in megabytes\n\n  });\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (errors.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Error...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: errors\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this);\n  }\n\n  filesContent.map(file => setImageFileFunction(file));\n  const splitFileName = selectedImageFileName.split('.');\n\n  if (splitFileName.length != 2 || !(splitFileName[1].toLowerCase() in athorizedFileExtensions)) {\n    setImageFileFunction(\"error\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(HStack, {\n    spacing: 4,\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      colorScheme: \"blue\",\n      onClick: () => openFileSelector(),\n      children: \"Select image file \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      p: 2,\n      children: selectedImageFileName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ImageSelector, \"xcIIv1OCiLdOizY3dCVutfBgvXY=\", false, function () {\n  return [useFilePicker];\n});\n\n_c = ImageSelector;\n\nvar _c;\n\n$RefreshReg$(_c, \"ImageSelector\");","map":{"version":3,"sources":["C:/Visual Studio Projects/card-generator-tanguy/src/components/image_selector.jsx"],"names":["React","useFilePicker","Box","HStack","Button","ImageSelector","props","setImageFileFunction","selectedImageFileName","athorizedFileExtensions","openFileSelector","filesContent","loading","errors","readAs","limitFilesConfig","max","length","map","file","splitFileName","split","toLowerCase"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,SAASC,GAAT,EAAcC,MAAd,QAA4B,kBAA5B;AACA;;AAEA,SAASC,MAAT,QAAuB,4BAAvB;AAGA;;;AACA,OAAO,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAAA;;AAEjC,QAAMC,oBAAoB,GAAGD,KAAK,CAACC,oBAAnC;AACA,QAAMC,qBAAqB,GAAGF,KAAK,CAACE,qBAApC;AAEA,QAAMC,uBAAuB,GAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB,KAAhB,EAAuB,MAAvB,CAAhC;AAEA,QAAM,CAACC,gBAAD,EAAmB;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA,OAAhB;AAAyBC,IAAAA;AAAzB,GAAnB,IAAwDZ,aAAa,CAAC;AACxEa,IAAAA,MAAM,EAAE,SADgE;AAExE;AACAC,IAAAA,gBAAgB,EAAE;AAAEC,MAAAA,GAAG,EAAE;AAAP,KAHsD,CAIxE;;AAJwE,GAAD,CAA3E;;AAOA,MAAIJ,OAAJ,EAAa;AACT,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,MAAIC,MAAM,CAACI,MAAX,EAAmB;AACf,wBACI;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA,kBAAMJ;AAAN;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAMH;;AAEDF,EAAAA,YAAY,CAACO,GAAb,CAAkBC,IAAD,IACbZ,oBAAoB,CAACY,IAAD,CADxB;AAIA,QAAMC,aAAa,GAAGZ,qBAAqB,CAACa,KAAtB,CAA4B,GAA5B,CAAtB;;AACA,MAAID,aAAa,CAACH,MAAd,IAAwB,CAAxB,IAA6B,EAAEG,aAAa,CAAC,CAAD,CAAb,CAAiBE,WAAjB,MAAkCb,uBAApC,CAAjC,EAA+F;AAC3FF,IAAAA,oBAAoB,CAAC,OAAD,CAApB;AACH;;AAED,sBACI,QAAC,MAAD;AAAQ,IAAA,OAAO,EAAE,CAAjB;AAAA,4BACI,QAAC,MAAD;AAAQ,MAAA,WAAW,EAAC,MAApB;AAA2B,MAAA,OAAO,EAAE,MAAMG,gBAAgB,EAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,GAAD;AAAK,MAAA,CAAC,EAAE,CAAR;AAAA,gBAAYF;AAAZ;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAMH;;GA1CeH,a;UAOkDJ,a;;;KAPlDI,a","sourcesContent":["import React from 'react';\r\nimport { useFilePicker } from 'use-file-picker';\r\nimport { Box, HStack } from \"@chakra-ui/react\"\r\n/***************************************************************/\r\n\r\nimport { Button } from \"../style_components/button\"\r\n\r\n\r\n/***************************************************************/\r\nexport function ImageSelector(props) {\r\n\r\n    const setImageFileFunction = props.setImageFileFunction;\r\n    const selectedImageFileName = props.selectedImageFileName;\r\n\r\n    const athorizedFileExtensions = [\"png\", \"jpeg\", \"jpg\", \"webp\"]\r\n\r\n    const [openFileSelector, { filesContent, loading, errors }] = useFilePicker({\r\n        readAs: 'DataURL',\r\n        // multiple: true,\r\n        limitFilesConfig: { max: 1 },\r\n        // minFileSize: 0.1, // in megabytes\r\n    });\r\n\r\n    if (loading) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    if (errors.length) {\r\n        return (\r\n            <div>\r\n                <div>Error...</div>\r\n                <div>{errors}</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    filesContent.map((file) => (\r\n        setImageFileFunction(file)\r\n    ));\r\n\r\n    const splitFileName = selectedImageFileName.split('.')\r\n    if (splitFileName.length != 2 || !(splitFileName[1].toLowerCase() in athorizedFileExtensions)) {\r\n        setImageFileFunction(\"error\")\r\n    }\r\n\r\n    return (\r\n        <HStack spacing={4}>\r\n            <Button colorScheme=\"blue\" onClick={() => openFileSelector()}>Select image file </Button>\r\n            <Box p={2}>{selectedImageFileName}</Box>\r\n        </HStack>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}